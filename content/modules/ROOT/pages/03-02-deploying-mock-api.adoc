= 3.2 Deploying the Mock ServiceNow API
include::_attributes.adoc[]

The first step in our hands-on lab is to deploy the mock ServiceNow API. This API simulates a real ITSM system by providing endpoints that list closed incident tickets containing valuable problem-resolution data. Our Kubeflow Pipeline will connect to this API to fetch the data for ingestion into Milvus.

We will use OpenShift GitOps (ArgoCD) to deploy the application into your project namespace.

== Accessing the OpenShift Web Terminal

Open the command line terminal by clicking the terminal icon in the top-right corner of the page.
+
[.bordershadow]
image::03/openshift-web-terminal.png[Opening the OpenShift command line terminal from the UI.]

+
[.bordershadow]
image::03/openshift-terminal-2.png[Opening the OpenShift command line terminal from the UI.]

Run the following command to the terminal

[.console-input]
[source,bash,subs="attributes+"]
----
oc apply -f - <<EOF
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: {user}-mock-api
  # This is the namespace where ArgoCD itself runs.
  namespace: openshift-gitops
spec:
  project: default
  source:
    repoURL: https://github.com/cnuland/hello-chris-rag-pipeline.git
    # This path points to the kustomize directory for the mock API application.
    path: apps/api/.k8s
    targetRevision: main
    kustomize: {}
  destination:
    server: https://kubernetes.default.svc
    # This is the workshop namespace where the API will be deployed.
    namespace: {user}
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
      - CreateNamespace=true
EOF
----

6.  After applying the yaml, click the **Exit Terminal** button.


Once the application is healthy, you can proceed to the next step to verify that it's running correctly.
